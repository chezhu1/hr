
@{
    Layout = null;
    IEnumerable<Major_kind> big4 = ViewBag.zw;
    IEnumerable<Major> big5 = ViewBag.mc;
    IEnumerable<PublicChar> Gj = ViewBag.Gj;
    IEnumerable<PublicChar> MZ = ViewBag.MZ;
    IEnumerable<PublicChar> ZJXY = ViewBag.ZJXY;
    IEnumerable<PublicChar> ZZMM = ViewBag.ZZMM;
    IEnumerable<PublicChar> XL = ViewBag.XL;
    IEnumerable<PublicChar> JYNX = ViewBag.JYNX;
    IEnumerable<PublicChar> XLZY = ViewBag.XLZY;
    IEnumerable<PublicChar> TC = ViewBag.TC;
    IEnumerable<PublicChar> AH = ViewBag.AH;

}
@using Models;

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-trasitional.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet"
          href="../../../css/table.css" type="text/css">
    <link rel="stylesheet"
          href="../../../css/cwcalendar.css" type="text/css">
    <script type="text/javascript"
            src="../../../javascript/comm/comm.js">
    </script>
    <script type="text/javascript"
            src="../../../javascript/comm/list.js">
    </script>
    <script type="text/javascript"
            src="../../../javascript/calendar-ch.js">
    </script>
    <script type="text/javascript"
            src="../../../javascript/jquery-1.7.2.js">
    </script>
    <script type="text/javascript"
            src="../../../javascript/locate.js">
    </script>
    <script type="text/javascript"
            src="../../../javascript/select.js">
    </script>

    <script type="text/javascript">
 			window.onload=check;
		function tick() {
			var now = new Date();
			var hours, minutes, seconds, noon;
			var intHours, intMinutes, intSeconds;
			intHours = now.getHours();
			intMinutes = now.getMinutes();
			intSeconds = now.getSeconds();
			if (intHours < 24) {
				hours = intHours+":";
				noon = "A.M.";
			} else {
				intHours = intHours - 24;
				hours = intHours + ":";
				noon = "P.M.";
			}
			if (intMinutes < 10) {
				minutes = "0"+intMinutes+":";
			} else {
				minutes = intMinutes+":";
			}
			if (intSeconds < 10) {
				seconds = "0"+intSeconds+" ";
			} else {
				seconds = intSeconds+" ";
			}
			timeString = hours+minutes+seconds;
			var now = new Date();
		  	document.getElementById("nowTime").value=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate()+" "+timeString;
			window.setTimeout("tick();", 1000);
		}

		//load事件
		function check(){
			//获得系统当前时间的方法
		  	tick();
		}
    </script>
    <script type="text/javascript">
 		function mysubmit(){
 		if(document.getElementById("name").value==""){
 		alert("请填写姓名");
 		return false;
 		}
 		if(document.getElementById("phone").value==""){
	 		alert("请填写电话");
	 		return false;
 		}else if(isNaN(document.getElementById("phone").value)){
	 		alert("电话号码请填写数字");
	 		return false;
 		}
 		if(document.getElementById("card").value==""){
	 		alert("请填写身份证号码");
	 		return false;
 		}
 		if(document.getElementById("birthday").value!=""){
	 		var str = document.getElementById("birthday").value;
	 		var r = str.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);
	 		 if(r==null){
	 		 alert("请输入正确的日期格式：yyyy-MM-dd");
	 		return false;
	 		}
 		}
 		if(document.getElementById("humanHomephone").value!=""){
	 		if(isNaN(document.getElementById("humanHomephone").value)){
	 		alert("家庭电话请填写数字");
	 		return false;
	 		}
 		}
 		if(document.getElementById("humanMobilephone").value!=""){
	 		if(isNaN(document.getElementById("humanMobilephone").value)){
	 		alert("手机请填写数字");
	 		return false;
	 		}
 		}
 		if(document.getElementById("humanAge").value!=""){
 			if(isNaN(document.getElementById("humanAge").value)){
	 		alert("年龄请填写数字");
	 		return false;
	 		}
 		}
 		if(document.getElementById("demandSalaryStandard").value!=""){
 			if(isNaN(document.getElementById("demandSalaryStandard").value)){
	 		alert("年龄请填写数字");
	 		return false;
	 		}
 		}
 		document.fm.submit();
 		}
    </script>
</head>
<body>
    <div id="app">
        @{Major_release major_Release = ViewBag.xgs;}
        <el-form :model="InsertData" ref="uruleForm" label-width="100px">
            <input type="hidden" name="engageResume.passCheckcomment" value="不通过" />
            <input type="hidden" name="engageResume.passPasscomment" value="不通过" />
            <input type="hidden" name="engageResume.checkStatus" value="false" />
            <table width="100%">
                <tr>
                    <td>
                        <font color="black">您正在做的业务是：人力资源--招聘管理--简历管理--简历登记 </font>

                    </td>
                </tr>
                <tr>
                    <td align="right">

                        <input type="button" v-on:click="mysubmit()" value="提交" class="BUTTON_STYLE1">
                        <input type="reset" value="清除" class="BUTTON_STYLE1">
                    </td>
                </tr>
            </table>
            <table width="100%" border="1" cellpadding=0 cellspacing=1
                   bordercolorlight=#848284 bordercolordark=#eeeeee
                   class="TABLE_STYLE1">
                <tr>
                    <td class="TD_STYLE1">
                        职位分类
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.zwfl">

                            @foreach (Major_kind item in big4)
                            {
                                <el-option label='@item.major_kind_name' value='@item.major_kind_id'>@item.major_kind_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        职位名称
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.zwmc">
                            @foreach (Major item in big5)
                            {
                                <el-option label='@item.major_name' value='@item.major_id'>@item.major_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td width="11%" class="TD_STYLE1">
                        招聘类型
                    </td>
                    <td class="TD_STYLE2" colspan="2">
                        <el-input type="text" id="zplx" v-model="InsertData.zplx" class="INPUT_STYLE2" name="zplx" />
                    </td>
                    <td rowspan="6">
                        <el-upload class="avatar-uploader"
                                   action="/ZP/WSC"
                                   :show-file-list="false"
                                   :on-success="handleAvatarSuccess"
                                   :before-upload="beforeAvatarUpload">
                            <img v-if="imageUrl" :src="imageUrl" class="avatar">
                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                        </el-upload>
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        姓名
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="name" v-model="InsertData.name" class="INPUT_STYLE2" name="name" />
                    </td>
                    <td class="TD_STYLE1">
                        性别
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.xb" class="SELECT_STYLE1">
                            <el-option value="男">男</el-option>
                            <el-option value="女">女</el-option>
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        EMAIL
                    </td>
                    <td colspan="2" class="TD_STYLE2">
                        <el-input type="emal" id="emal" v-model="InsertData.emal" class="INPUT_STYLE2" name="emal" />
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        电话
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="phone" v-model="InsertData.phone" class="INPUT_STYLE2" name="phone" />
                    </td>
                    <td class="TD_STYLE1">
                        家庭电话
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="phone1" v-model="InsertData.phone1" class="INPUT_STYLE2" name="phone1" />
                    </td>
                    <td class="TD_STYLE1">
                        手机
                    </td>
                    <td colspan="2" class="TD_STYLE2">
                        <el-input type="text" id="mobilehone" v-model="InsertData.mobilephone" class="INPUT_STYLE2" name="mobilephone" />
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        住址
                    </td>
                    <td colspan="3" class="TD_STYLE2">
                        <el-input type="text" id="address" v-model="InsertData.address" class="INPUT_STYLE2" name="address" />
                    </td>

                    <td class="TD_STYLE1">
                        邮编
                    </td>
                    <td colspan="2" class="TD_STYLE2">
                        <el-input type="text" id="yb" v-model="InsertData.yb" class="INPUT_STYLE2" name="yb" />
                    </td>
                </tr>

                <tr>
                    <td class="TD_STYLE1">
                        国籍
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.gj">
                            @foreach (PublicChar item in Gj)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        出生地
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="address1" v-model="InsertData.address1" class="INPUT_STYLE2" name="address1" />
                    </td>
                    <td class="TD_STYLE1">
                        生日
                    </td>
                    <td width="13%" colspan="2" class="TD_STYLE2">
                        <el-input type="text" id="birthday" v-model="InsertData.birthday" class="INPUT_STYLE2" name="birthday" />
                    </td>

                </tr>
                <tr>
                    <td width="11%" class="TD_STYLE1">
                        民族
                    </td>
                    <td class="TD_STYLE2" width="14%">
                        <el-select v-model="InsertData.mz">
                            @foreach (PublicChar item in MZ)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        宗教信仰
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.zjxy">
                            @foreach (PublicChar item in ZJXY)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        政治面貌
                    </td>
                    <td class="TD_STYLE2" colspan="2">
                        <el-select v-model="InsertData.zzmm">
                            @foreach (PublicChar item in ZZMM)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>


                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        身份证号码
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="sfz" v-model="InsertData.sfz" class="INPUT_STYLE2" name="sfz" />
                    </td>
                    <td class="TD_STYLE1">
                        年龄
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="age" v-model="InsertData.age" class="INPUT_STYLE2" name="age" />
                    </td>
                    <td class="TD_STYLE1">
                        毕业院校
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="byyx" v-model="InsertData.byyx" class="INPUT_STYLE2" name="byyx" />
                    </td>

                    <td class="TD_STYLE1">
                        学历
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.xl">
                            @foreach (PublicChar item in XL)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>

                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        教育年限
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.jynx">
                            @foreach (PublicChar item in JYNX)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        学历专业
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.xlzy">
                            @foreach (PublicChar item in XLZY)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>

                    <td class="TD_STYLE1">
                        薪酬要求
                    </td>
                    <td class="TD_STYLE2">
                        <el-input type="text" id="xcyq" v-model="InsertData.xcyq" class="INPUT_STYLE2" name="xcyq" />
                    </td>
                    <td class="TD_STYLE1">
                        注册时间
                    </td>
                    <td class="TD_STYLE2">
                        <input type="text" name="engageResume.registTime"
                               id="nowTime" readonly="readonly"
                               class="INPUT_STYLE2">
                    </td>

                </tr>
                <tr>

                    <td class="TD_STYLE1">
                        特长
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.tc">
                            @foreach (PublicChar item in TC)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        爱好
                    </td>
                    <td class="TD_STYLE2">
                        <el-select v-model="InsertData.ah">
                            @foreach (PublicChar item in AH)
                            {
                                <el-option label='@item.attribute_name' value='@item.attribute_name'>@item.attribute_name</el-option>
                            }
                        </el-select>
                    </td>
                    <td class="TD_STYLE1">
                        &nbsp;
                    </td>
                    <td class="TD_STYLE2">
                        &nbsp;
                    </td>
                    <td class="TD_STYLE1">
                        &nbsp;
                    </td>
                    <td class="TD_STYLE2">
                        &nbsp;
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">
                        个人履历
                    </td>
                    <td colspan="7" class="TD_STYLE2">
                        <el-input type="text" id="grfl" v-model="InsertData.grfl" class="INPUT_STYLE2" name="grfl" />
                    </td>
                </tr>

                <tr>
                    <td class="TD_STYLE1">
                        备注
                    </td>
                    <td colspan="7" class="TD_STYLE2">
                        <el-input type="text" id="bz" v-model="InsertData.bz" class="INPUT_STYLE2" name="xcyq" />
                    </td>
                </tr>
            </table>
        </el-form>
    </div>
    <script src="~/Scripts/vue/dist/vue.js"></script>
    <link href="~/Scripts/element-ui/lib/theme-chalk/index.css" rel="stylesheet" />
    <script src="~/Scripts/element-ui/lib/index.js"></script>
    <script src="~/Scripts/axios/dist/axios.js"></script>
   
    <script type="text/javascript">
        var vue = new Vue({
            el: "#app",
            data: {
                InsertData: {
                    zwfl: "",
                    zwmc: "",
                    zplx: "",
                    name: "",
                    xb: "",
                    emal: "",
                    phone: "",
                    phone1: "",
                    mobilephone: "",
                    address: "",
                    yb: "",
                    gj: "",
                    address1: "",
                    birthday: "",
                    mz: "",
                    zjxy: "",
                    zzmm: "",
                    sfz: "",
                    age: "",
                    byyx: "",
                    xl: "",
                    jynx: "",
                    xlzy: "",
                    xcyq: "",
                    tc: "",
                    ah: "",
                    grfl: "",
                    bz: "",
                },
                imageUrl: "",
            },
            methods: {
                handleRemove(file, fileList) {
                    console.log(file, fileList);
                },
                handlePreview(file) {
                    console.log(file);
                },
                handleok(response, file, fileList) {
                    console.info(response);
                },
                handleAvatarSuccess(res, file) {
                    this.imageUrl = URL.createObjectURL(file.raw);
                },
                beforeAvatarUpload(file) {
                    const isJPG = file.type === 'image/jpeg';
                    const isLt2M = file.size / 1024 / 1024 < 2;

                    if (!isJPG) {
                        this.$message.error('上传头像图片只能是 JPG 格式!');
                    }
                    if (!isLt2M) {
                        this.$message.error('上传头像图片大小不能超过 2MB!');
                    }
                    return isJPG && isLt2M;
                },
                mysubmit() {
                    var time = document.getElementById("nowTime").value;
                    axios.get('/ZP/Jl_Dj_Insert', {
                        params: {
                            major_kind_id: this.InsertData.zwfl,
                            major_id: this.InsertData.zwmc,
                            human_name: this.InsertData.name,
                            engage_type: this.InsertData.zplx,
                            human_address: this.InsertData.address,
                            human_postcode: this.InsertData.yb,
                            human_telephone: this.InsertData.phone,
                            human_homephone: this.InsertData.phone1,
                            human_mobilephone: this.InsertData.mobilephone,
                            human_email: this.InsertData.emal,
                            human_hobby: this.InsertData.ah,
                            human_specility: this.InsertData.tc,
                            human_sex: this.InsertData.xb,
                            human_religion: this.InsertData.zjxy,
                            human_party: this.InsertData.zzmm,
                            human_nationality: this.InsertData.gj,
                            human_race: this.InsertData.mz,
                            human_birthday: this.InsertData.birthday,
                            human_age: this.InsertData.age,
                            human_educated_degree: this.InsertData.xl,
                            human_educated_years: this.InsertData.jynx,
                            human_educated_major: this.InsertData.xlzy,
                            human_college: this.InsertData.byyx,
                            human_idcard: this.InsertData.sfz,
                            human_birthplace: this.InsertData.address1,
                            demand_salary_standard: this.InsertData.xcyq,
                            human_history_records: this.InsertData.grfl,
                            remark: this.InsertData.bz,
                            regist_time: time,
                            pass_register: "better_admin",

                        }
                    }).then(res => {
                        if (res.data > 0) {
                            alert("添加成功！")
                        }
                    }).catch(err => {
                        console.log(err)
                    })
                },
            },
            mounted() {

            },
        })
    </script>
    <style>
        .el-upload--picture-card {
            width: 100px;
            height: 100px;
        }

        .el-upload {
            width: 100px;
            height: 100px;
            line-height: 100px;
        }

        .el-upload-list--picture-card .el-upload-list__item {
            width: 100px;
            height: 100px;
            line-height: 100px;
        }

        .el-upload-list--picture-card .el-upload-list__item-thumbnail {
            width: 100px;
            height: 100px;
            line-height: 100px;
        }

        .avatar {
            width: 100px;
            height: 100px;
        }
    </style>
</body>

</html>

